module.exports=[11156,a=>{"use strict";a.s(["CreditCard",()=>b],11156);let b=(0,a.i(70106).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},78987,a=>{"use strict";a.s(["ShoppingBag",()=>b],78987);let b=(0,a.i(70106).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},3314,a=>{"use strict";a.s(["Shield",()=>b],3314);let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},93518,a=>{"use strict";a.s(["Award",()=>b],93518);let b=(0,a.i(70106).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},10227,a=>{"use strict";a.s(["Truck",()=>b],10227);let b=(0,a.i(70106).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},56025,a=>{"use strict";a.s(["AuthProvider",()=>f,"useAuth",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(19032);let e=(0,c.createContext)(void 0),f=({children:a})=>{let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=localStorage.getItem("user");if(a)try{let b=JSON.parse(a);g(b),i(!0)}catch(a){localStorage.removeItem("user")}},[]);let j=a=>{g(a),i(!0),localStorage.setItem("user",JSON.stringify(a))},k=async(a,b,c,e)=>{try{let f=await d.authApi.register({name:a,email:b,password:c,phone:e});j({name:f.name,email:f.email,phone:f.phone,token:f.token})}catch(a){throw console.error("Registration failed:",a),a}},l=async(a,b)=>{try{let c=await d.authApi.login({email:a,password:b});j({name:c.name,email:c.email,phone:c.phone,token:c.token})}catch(a){throw console.error("Login failed:",a),a}};return(0,b.jsx)(e.Provider,{value:{user:f,login:j,logout:()=>{g(null),i(!1),localStorage.removeItem("user")},isAuthenticated:h,register:k,loginUser:l},children:a})},g=()=>{let a=(0,c.useContext)(e);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},63933,a=>{"use strict";a.s(["CartProvider",()=>h,"useCart",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(93299),e=a.i(56025),f=a.i(19032);let g=(0,c.createContext)(void 0),h=({children:a})=>{let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(!1),{user:r,isAuthenticated:s}=(0,e.useAuth)(),t=async()=>{q(!0);try{if(s&&r?.token)try{let a=await f.cartApi.getCart(r.token),b=a.items?.map(a=>({id:a.productId._id||a.productId,name:a.productId.name,price:a.productId.price,image:a.productId.image,category:a.productId.category,material:a.productId.material,quantity:a.quantity}))||[];i(b),m(b.reduce((a,b)=>a+b.quantity,0));return}catch(a){console.error("Failed to fetch cart from API, falling back to localStorage:",a)}let a=(0,d.getCartItems)(),b=(0,d.getCartCount)();i(a),m(b)}finally{q(!1)}},u=async()=>{q(!0);try{if(s&&r?.token)try{let a=await f.wishlistApi.getWishlist(r.token),b=a.productIds?.map(a=>({id:a._id,name:a.name,price:a.price,originalPrice:a.originalPrice,image:a.image,category:a.category,material:a.material,rating:a.rating}))||[];k(b),o(b.length);return}catch(a){console.error("Failed to fetch wishlist from API, falling back to localStorage:",a)}let a=(0,d.getWishlistItems)(),b=(0,d.getWishlistCount)();k(a),o(b)}finally{q(!1)}};return(0,c.useEffect)(()=>{let a=()=>{t()},b=()=>{u()};return window.addEventListener("cartUpdated",a),window.addEventListener("wishlistUpdated",b),()=>{window.removeEventListener("cartUpdated",a),window.removeEventListener("wishlistUpdated",b)}},[]),(0,c.useEffect)(()=>{t(),u();let a=a=>{"cart"===a.key?t():"wishlist"===a.key&&u()};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[s,r]),(0,b.jsx)(g.Provider,{value:{cartItems:h,wishlistItems:j,cartCount:l,wishlistCount:n,refreshCart:t,refreshWishlist:u,loading:p},children:a})},i=()=>{let a=(0,c.useContext)(g);if(void 0===a)throw Error("useCart must be used within a CartProvider");return a}},33508,a=>{"use strict";a.s(["X",()=>b],33508);let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},20005,a=>{"use strict";a.s(["LogOut",()=>b],20005);let b=(0,a.i(70106).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},63519,a=>{"use strict";a.s(["Phone",()=>b],63519);let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},92258,a=>{"use strict";a.s(["Mail",()=>b],92258);let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},46842,a=>{"use strict";a.s(["User",()=>b],46842);let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24987,a=>{"use strict";a.s(["MapPin",()=>b],24987);let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}];

//# sourceMappingURL=_316d372a._.js.map