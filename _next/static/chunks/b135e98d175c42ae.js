(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1928,e=>{"use strict";e.s(["ShoppingCart",()=>a],1928);let a=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},70273,e=>{"use strict";e.s(["Star",()=>a],70273);let a=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},87130,e=>{"use strict";e.s(["Filter",()=>a],87130);let a=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},36092,e=>{"use strict";e.s(["default",()=>h],36092);var a=e.i(43476),s=e.i(71645),t=e.i(46932),l=e.i(88653),r=e.i(87130),i=e.i(55436),c=e.i(70273),n=e.i(90597),o=e.i(1928),d=e.i(22016),m=e.i(6976);let g=e=>{let{params:g,products:x}=e,[h,u]=(0,s.useState)(""),[p,f]=(0,s.useState)("grid"),[y,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)({category:[],material:[],priceRange:[0,1e6],rating:0,sortBy:"featured"}),v=(null==g?void 0:g.categoryName)?String(g.categoryName):"",w=(null==g?void 0:g.itemName)?String(g.itemName):"";(0,s.useEffect)(()=>{console.log("ðŸš€ CategoryPage:",{categoryName:v,itemName:w,productsCount:(null==x?void 0:x.length)||0,firstProduct:(null==x?void 0:x[0])?{name:x[0].name,category:x[0].category,material:x[0].material}:"none"})},[v,w,x]);let C=e=>e?e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"",S=(e=>"coins-and-bars"===e?"Coins & Bars":C(e))(v),L=((e,a)=>{if("coins-and-bars"===e){if(a.includes("gold-coin"))return"Gold Coins";if(a.includes("silver-coin"))return"Silver Coins";if(a.includes("gold-bar"))return"Gold Bars";if(a.includes("silver-bar"))return"Silver Bars"}return C(a)})(v,w),P=(0,s.useMemo)(()=>{if(!x||0===x.length)return console.warn("âš ï¸ No products available to filter"),[];console.log("ðŸ” START FILTERING ==========================================="),console.log("Category Name:",v),console.log("Item Name:",w),console.log("Total Products:",x.length);let e=x.filter(e=>{let a=!1,s=!1;if("coins-and-bars"===v){let s=!0;w.includes("gold")?s="gold"===e.material.toLowerCase():w.includes("silver")&&(s="silver"===e.material.toLowerCase()),w.includes("coin")?a="Coins"===e.category&&s:w.includes("bar")&&(a="Bars"===e.category&&s)}else{let s=e.material.toLowerCase().trim();a=s===v.toLowerCase().trim()||"gold"===v&&s.includes("gold")}let t="";if("coins-and-bars"===v)w.includes("coin")?t="Coins":w.includes("bar")&&(t="Bars");else{let e=w.toLowerCase();if(e.includes("necklace"))t="Necklaces";else if(e.includes("earring"))t="Earrings";else if(e.includes("bangle"))t="Bangles";else if(e.includes("ring"))t="Rings";else if(e.includes("pendant"))t="Pendants";else{let e=w.split("-");if(e.length>1){t=e.slice(1).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");let a={Earring:"Earrings",Bangle:"Bangles",Pendant:"Pendants",Necklace:"Necklaces",Ring:"Rings"};a[t]&&(t=a[t])}}}s=e.category===t;let l=!h||e.name.toLowerCase().includes(h.toLowerCase()),r=!(j.category.length>0)||j.category.includes(e.category),i=!(j.material.length>0)||j.material.includes(e.material),c=e.price>=j.priceRange[0]&&e.price<=j.priceRange[1],n=!(j.rating>0)||e.rating>=j.rating;return a&&s&&l&&r&&i&&c&&n});switch(0===e.length&&v&&w&&(console.log("âš ï¸ No exact matches found, showing all products of material:",v),e=x.filter(e=>{let a=e.material.toLowerCase().trim(),s=a===v.toLowerCase().trim()||"gold"===v&&a.includes("gold"),t=!h||e.name.toLowerCase().includes(h.toLowerCase()),l=!(j.category.length>0)||j.category.includes(e.category),r=!(j.material.length>0)||j.material.includes(e.material),i=e.price>=j.priceRange[0]&&e.price<=j.priceRange[1],c=!(j.rating>0)||e.rating>=j.rating;return s&&t&&l&&r&&i&&c})),j.sortBy){case"price-low":e.sort((e,a)=>e.price-a.price);break;case"price-high":e.sort((e,a)=>a.price-e.price);break;case"rating":e.sort((e,a)=>a.rating-e.rating);break;default:e.sort((e,a)=>!!a.isBestseller-!!e.isBestseller)}return console.log("âœ… FILTERED RESULT:",{filteredCount:e.length,firstFew:e.slice(0,3).map(e=>e.name)}),e},[x,v,w,h,j]),R=e=>{(0,m.addToCart)({id:e.id,name:e.name,price:e.price,image:e.image,category:e.category,material:e.material})},k=e=>{let{product:s}=e;return(0,a.jsxs)(t.motion.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-5},className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden",children:[(0,a.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),(0,a.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[s.isNew&&(0,a.jsx)("span",{className:"bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:"NEW"}),s.isBestseller&&(0,a.jsx)("span",{className:"bg-amber-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:"BESTSELLER"}),s.discount&&(0,a.jsxs)("span",{className:"bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:[s.discount,"% OFF"]})]}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>(e=>{(0,m.addToWishlist)({id:e.id,name:e.name,price:e.price,originalPrice:e.originalPrice,image:e.image,category:e.category,material:e.material,rating:e.rating})})(s),className:"bg-white/90 p-2 rounded-full shadow-lg hover:scale-110 transition-transform",children:(0,a.jsx)(n.Heart,{size:16,className:"text-gray-600 hover:text-red-500"})}),(0,a.jsx)("button",{onClick:()=>R(s),className:"bg-white/90 p-2 rounded-full shadow-lg hover:scale-110 transition-transform",children:(0,a.jsx)(o.ShoppingCart,{size:16,className:"text-gray-600"})})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500 uppercase tracking-wide",children:[s.category," â€¢ ",s.material]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-amber-600 transition-colors",children:(0,a.jsx)(d.default,{href:"/products/".concat(s.id),children:s.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(c.Star,{size:14,className:t<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"},t))}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["(",s.reviews,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-amber-600",children:["â‚¹",s.price.toLocaleString()]}),s.originalPrice&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["â‚¹",s.originalPrice.toLocaleString()]})]}),(0,a.jsxs)("button",{onClick:()=>R(s),className:"bg-amber-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-amber-700 transition-colors flex items-center gap-1",children:[(0,a.jsx)(o.ShoppingCart,{size:14}),"Add"]})]})]})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-amber-600 to-amber-700 text-white py-16",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,a.jsxs)(t.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:L||S||"Category"}),(0,a.jsxs)("p",{className:"text-xl text-amber-100 max-w-2xl mx-auto",children:["Explore our exquisite collection of ",L?L.toLowerCase():S?S.toLowerCase():"items"," in ",S?S.toLowerCase():"various categories","."]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsx)("nav",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(d.default,{href:"/",className:"hover:text-amber-600",children:"Home"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(d.default,{href:"/collections",className:"hover:text-amber-600",children:"Collections"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(d.default,{href:"/collections",className:"hover:text-amber-600",children:S||"Category"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{className:"text-gray-900",children:L||"Items"})]})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(i.Search,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:h,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>b(!y),className:"px-4 py-3 border rounded-lg transition-colors ".concat(y?"bg-amber-600 text-white":"bg-white text-gray-700"),children:(0,a.jsx)(r.Filter,{size:20})}),(0,a.jsx)("select",{value:j.sortBy,onChange:e=>N({...j,sortBy:e.target.value}),className:"px-4 py-3 border border-gray-300 rounded-lg",children:[{value:"featured",label:"Featured"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"rating",label:"Highest Rated"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"flex gap-8",children:[(0,a.jsx)(l.AnimatePresence,{children:y&&(0,a.jsxs)(t.motion.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:"w-80 bg-white rounded-lg shadow-lg p-6 h-fit sticky top-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Filters"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"Price Range"}),(0,a.jsxs)("div",{className:"px-1",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"1000000",step:"10000",value:j.priceRange[1],onChange:e=>N({...j,priceRange:[0,parseInt(e.target.value)]}),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[(0,a.jsx)("span",{children:"â‚¹0"}),(0,a.jsxs)("span",{children:["â‚¹",j.priceRange[1].toLocaleString()]})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"Rating"}),(0,a.jsx)("div",{className:"space-y-2",children:[4,3,2,1].map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"rating",checked:j.rating===e,onChange:()=>N({...j,rating:e}),className:"text-amber-600"}),(0,a.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,a.jsx)(c.Star,{size:14,className:t<e?"text-yellow-400 fill-current":"text-gray-300"},t))}),(0,a.jsx)("span",{className:"text-sm",children:"& Up"})]},e))})]})]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-gray-600 mb-6",children:["Showing ",P.length," of ",x.length," products"]}),P.length>0?(0,a.jsx)(t.motion.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,a.jsx)(l.AnimatePresence,{children:P.map(e=>(0,a.jsx)(k,{product:e},e.id))})}):x.length>0?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(i.Search,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No products found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters or search terms"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Debug: Found ",x.length," total products, but none matched the filter.",(0,a.jsx)("br",{}),"Category: ",v,", Item: ",w]})]}):(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(i.Search,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No products available"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Products are loading..."})]})]})]})]})]})};var x=e.i(9165);function h(e){let{params:t,fallbackProducts:l}=e,[r,i]=(0,s.useState)(l||[]),[c,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{l&&l.length>0&&i(l),(async()=>{try{let e=t.categoryName,a=t.itemName,s=await x.productApi.getProductsByCategory(e,a);Array.isArray(s)&&s.length>0&&i(s)}catch(e){console.log("API fetch failed, using fallback products")}})()},[t.categoryName,t.itemName,l]),c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Loading..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please wait while we load the products."})]})}):(0,a.jsx)(g,{params:t,products:r})}}]);